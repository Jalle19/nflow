<h1>Search workflows</h1>

<form role="form">
    <div class="form-group">
        <div class="row">
            <div class="col-xs-4">
                <label for="id">id</label>
                <input name="id" type="number" ng-model="crit.id" class="form-control"/>
            </div>

            <div class="col-xs-4">
                <label for="businessKey">businessKey</label>
                <input name="businessKey" type="text" ng-model="crit.businessKey" class="form-control"/>
            </div>

            <div class="col-xs-4">
                <label for="externalId">externalId</label>
                <input name="externalId" type="text" ng-model="crit.externalId" class="form-control"/>
            </div>

            <div class="col-xs-4">
                <label for="type">Workflow type</label>
                <select class="form-control" ng-model="crit.type" ng-options="def.type for def in definitions">
                    <option value="">-- No type selected --</option>
                </select>
            </div>

            <div class="col-xs-4">
                <label for="state">Workflow state</label>
                <input name="state" type="text" ng-model="crit.state" class="form-control"/>
            </div>

        </div>
    </div>
    <button class="btn btn-default" ng-click="search()">Search</button>
</form>

<div ng-show="hasResults()">
<h2>Workflows</h2>

<table id="search-result" class="table table-striped table-hover">
    <thead>
        <th>Id</th>
        <th>Workflow</th>
        <th>State</th>
    </thead>
    <tbody>
        <tr ng-repeat="result in results">
            <td class="{{getStateClass(result)}}"><a href="#/workflow/{{result.id}}">{{result.id}}</a></td>
            <td class="{{getStateClass(result)}}"><a href="#/workflow/{{result.id}}">{{result.type}}</a></td>
            <td class="{{getStateClass(result)}}">{{result.state}}</td>
        </tr>
    </tbody>
</table>
</div>
